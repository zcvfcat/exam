# 정보보안기사

## PART 01 정보보호 개요

### SECTION 01 정보보호관리의 개념

#### 1. 정보화 사회의 정보보호

- 정보보호의 목표
  - 기밀성 - Confidentiality
  - 무결성 - Integrity
  - 가용성 - Availability
  - 인증성 - Authenticity, Authentication
  - 채임추적성 - Accountability

#### 2. 정보보호 관리

#### 3. OSI 보안 구조

보안 공격 (Security Attack)

##### 기밀성을 위혐하는 공격

- 스누핑 (Snooping) : 데이터에 대한 비인가 접근 또는 탈취
- 트래픽분석 (Traffic Analysis)

##### 무결성을 위협하는 공격

- 변경 (메시지 수정, Modification)
- 가장 (Masquerading)
- 재연 (재전송, Replaying)
- 부인 (Repudiation)

##### 가용성을 위협하는 공격

- 서비스 거부(Denial of Service)

##### 소극적 공격과 적극적 공격

- 소극적 공격 (수동적 공격, Passive Attack)
- 적극적 공격 (능동적 공격, Active Attack)
  - 데이터를 바꾸거나 시스템에 해를 입힐 수 있다. 무결성과 가용성을 위협

#### 4. 기본 보안 용어 정의

- 자산 (Asset)
- 취약점 (취약성, Vulnerability)
- 위협 (Threat)
  - 가로채기 (interception) : 기밀성에 영향
  - 가로막음 (interruption) : 가용성에 영향
  - 변조 (modification) : 무결성에 영향
  - 위조 (fabrication) : 무결성에 영향
- 위협 주체(위협원, Threat agents)
- 위험 (Risk)
- 노출 (Exposure)
- 대책/안전장치 (counter-measure / safe-guard)
- 다계층 보안 / 심층방어(Defense in Depth)
- 직무상의 신의성실, 노력 (Due care, Due Diligence)
- 사회공학 (Social Engineering)
- 시점별 통제 (Control)

## PART 02 암호학

### SECTION 02 암호학 개요

#### 1. 암호학의 기본 개념

- 암호와 보안상식
  - 비밀 암호 알고리즘을 사용하지 말 것
  - 약한 암호는 암호화하지 않는 것보다 위험
  - 어떤 암호라도 언젠가는 해독됨
  - 암호는 보안의 아주 작은 부분

#### 2. 암호기법의 분류

##### 치환 암호와 전치 암호

- 치환 암호 (대치 암호, Substitution Cipher)
- 전치 암호 (Transposition Cipher)

##### 블록 암호와 스트림 암호

- 블록 암호 (Block cipher)
- 스트림 암호 (Stream cipher)

##### 위치에 따른 암호화의 구분

- 링크 암호화 (Link Encryption)
- 종단간 암호화 (End-to-End Encryption)

#### 3. 주요 암호기술에 대한 개괄

- 대칭키 암호와 비대칭키 암호
- 하이브리드 암호 시스템
- 일방향 해시 함수
- 메시지 인증코드
- 전자서명
- 의사난수 생성기

#### 4. 암호 분석(암호 해독)

##### 암호 분석의 분류

> ROLE  
> `Eve`는 암호문을 알고 있고, 암호문을 가로챌 수 있다고 가정

- 암호문 단독 공격 (COA, Cipher-text Only Attack)

  - Eve가 단지 어떤 암호문을 얻어서 대응되는 평문과 키를 찾는것

- 기지 평문 공격 (KPA, Known Plain-text Attack)

  - Eve는 해독하려는 암호문 외에 추가로 여러 개의 평문/암호문 쌍을 얻는다.
  - 평문/암호문 쌍은 공격자에게 미리 주어진다.

- 선택 평문 공격 (CPA, Chosen Plain-text Attack)

  - Eve가 평문 / 암호문 쌍을 선택할 수 있다

- 선택 암호문 공격 (CCA, Chosen Cipher-text Attack)
  - Eve가 암호문(알고리즘)을 선택하고 그에 대한 평문을 얻을 수 있다.

#### 5. 암호 알고리즘의 안정성 평가

##### 암호기술 평가

- 평가 종류
  - 암호 알고리즘 평가
  - 암호모듈 평가
  - 정보보호제품 평가
  - 응용시스템 평가

#### 6. 지적 재산권 보호

##### 디지털 저작권 권리

- 스테노가노그래피 (Steganography) : 감추어진 기록
- 디지털 워터마킹 (Digital Watermarking)

  - 원본의 내용을 왜곡하지 않는 법위 내에서 혹은 사용자가 인식하지 못하도록 저작권 정보를 디지털 콘텐츠에 삽입하는 기술

- 핑거프린팅(Finger-printing)

  - 디지털 콘텐츠를 구매할 때 구매자의 정보를 삽입하여 불법 배포 발견 시, 최초의 배포자를 추적할 수 있음
  - 판매되는 콘텐츠마다 구매자의 정보가 들어가므로 불법적으로 재배포된 콘텐츠 내에서 핑거프린팅된 정보를 추출하여 구매자를 식별하고, 법적인 조치를 가할 수 있게 된다.

- 디지털 저작권 관리(DRM, Digital Rights Management)
  - DRM 구성 요서
    - 메타데이터
    - 패키저
    - 시큐어 컨테이너
    - 식별자
    - DRM 제어기
  - DRM 모델
    - 콘텐츠 제공자
    - 콘텐츠 배포자
    - 콘텐츠 소비자
    - 클리어링 하우스(Clearing house)

### SECTION 03 대칭키 암호

#### 1. 현대 대칭키 암호

##### 현대 블록 암호

- 현대 블록암호는 확산과 혼돈과 같은 성질을 만족시키기 위하여 전치 요소(P-박스) 와 치환 요소(S-박스) 그리고 그 밖의 구성 요소를 결합하여 설계된다.
- 블록 암호에 대한 공격
  - 차분 분석 (차분 해독법, Differential Cryptanalysis)
  - 선형 분석 (선형 해독법, Linear Cryptanalysis)
  - 전수 공격법 (Exhaustive key search)
  - 통계적 분석 (Statistical analysis)
  - 수학적 분석 (Mathematical analysis)

##### 현대 스트림 암호

- 추가해야함

#### 2. DES (Data Encryption Standard)

- 평문의 길이는 64bit, 키의 길이는 56bit, 암호문의 길이는 64비트
- 대칭키 블록 암호 알고리즘

##### DES의 취약점

- DES는 평문 또는 키의 작은 변화가 암호문에 큰 변화를 만드는 쇄도효과(Avalanche Effect)가 매우 크고, 암호문의 각 비트가 평문의 많은 비트들에 읳존하는 완비성(completeness)이 높은 것으로 증명되어 암호문으로부터 평문을 추론하기가 매우 어렵다
- 그러나 DES는 56비트 키를 사용하므로 최대 키 공간의 크기는 2^56이 되고, 이 수는 DES 개발 당시에는 전사 공격(Brute Force Attack)을 감행할 수 없을 정도로 큰 수 였지만 현대에는 더 이상 전사 공격에 안전하지 못하다.
- 실제로 DES 키는 1998년 3일 만에 전사 공격에 의해 해독되었다. 지긍믕ㄴ 중요 정보의 암호화에는 적용할 수 없는 상태가 되었다.

##### 3중 다중

- 오늘날 보편적으로 사용되는 3중 DES에는 두 가지 버전이 있는데, 하나는 두 개의 키를 갖는 3중 DES이고 다른 하나는 세 개의 키를 같는 3중 DES다.
- 3DES는 하드웨어에서 매우 효율적이지만 소프트웨어에 대해서는 효율적이지 않다. 3DES는 전자 여권에서 바이오 정보를 보호하는데 뿐만 아니라 특히 금융 분야에 많이 사용된다.

###### 3중 DES 현황

- 3DES는 현재도 은행 등에서 사용하고 있지만, 처리 속도는 빠르지 않다. 그래서 과거에 DES로 암호화했던 자료의 호환성을 중시하는 경우를 제외하고는 새로운 용도로 사용하는 경우는 드물다.

###### 두 개의 키를 같은 3중 DES

- 두 개의 키 k1과 k2만을 사용한다.
- 첫번째와 세번째 단계에서는 K1을 사용하고 두번째 단계에서는 k2를 사용한다.
- 중간 단계에서는 복호화 알고리즘을 사용하고, 복호화 과정에서는 암호화 알고리즘을 사용한다.

###### 세 개의 키를 같는 3중 DES

- 두 개의 키를 같은 3DES에 대한 기지 평문공격의 가능성 때문에 어떤 응용프로그램은 세 개의 키를 같은 3DES를 사용한다.
- 세 개의 키를 같은 3DES는 PGP와 같은 많은 응용프로그램에서 사용되고 있다.
- 첫번째, 두번째, 세번째 각각 k1, k2, k3 키를 사용한다.
- 두번째는 복호화 알고리즘을 사용한다.
- 3DES의 복호화는 암호화의 역이 된다. k3, k2, k1의 순으로 복화화 -> 암호화 -> 복호화를 행한다.

###### DES와의 호환성

- 3DES에서 모든 키를 동일하게 하면 3DES는 보통의 DES와 같아진다. 최초의 암호환 -> 복호화로 인해 평문으로 돌아가기 때문이다.
- 과거에 DES로 암호화된 암호문은 3DES를 사용하여 복호화할 수 있다. 즉, 3DES는 DES에 대한 상호호환성을 갖고 있다.

#### 3. AES (Advanced Encryption Standard)

#### 4. 기타 대칭키 암호 알고리즘

##### 국제 암호 알고리즘

- IDEA (International Data Encryption Algorithm)
- RC5

##### 국내 암호 알고리즘

- SEED
- ARIA(Academy Research Institute Agency)
- HIGHT (HIGh security and light weigHT)
  - RFID, USN 등과 같이 저전력, 경량화를 요구하는 컴퓨팅 환경에서 기밀성을 제공하기 위해 2005년 KISA, ETRI 부설연구소 및 고려대가 공동으로 개발한 64비트 블록 암호 알고리즘
- LEA (Lightweight Encryption Algorithm)
  - 빅데이터, 클라우드 등 고속 환경 및 모바일 기기 등 경량 환경에서 기밀성을 제공하기 위해 개발된 128비트 블록암호 알고리즘

#### 5. 현대 대칭키 암호를 이용한 암호화 기범

##### (1) 블록 암호의 사용 방식

- 블록 암호는 고정된 n비트 블록을 n비트 블록으로 변환시키는 함수이다. 임의 길이의 평문을 암호화시키기 위해서는 평문을 특정한 길이로 분할하여 블록 암호에 입력시켜야 한다. 즉, 블록 암호를 이용하여 평문을 암호화 할때 에는 단순히 암호 알고리즘만이 있으면 해결되는 것이 아니고 사용 방식도 규정하여야 한다.
- 블록 암호를 다양한 응용에 사용하기 위해 NIST에서는 5가지 운영 모드를 정의하였다. 이 5가지 모드는 사실상 블록 암호가 사용되는 모든 암호 응용에 적용할 수 있도록 만들어졌다.
- 이 모드는 DES나 AES를 포함한 어떤 대칭 블록 암호에도 적용할 수 있다. 블록 암호의 주요 모드 ECB, CBC, CFB, OFB, CTR모드가 있다.

##### Electronic CodeBook(ECB)모드

- 운영 모드 중에서 가장 간단한 모드는 ECB모드이다. 평문은 N개의 n비트 블록으로 분할된다.
- 만약 평문 크기가 블록 크기의 배수가 아니라면, 평문의 마지막 블록에는 다른 블록들과 동일한 크기로 만들기 위하여 덧붙이기(padding)가 필요하다. 각각의 블록을 암호화 혹은 복호화하기 위하여 사용되는 키는 동일하다.
- ECB모드의 장점은 블록 간의 독립성이다. 다수 블록의 암호화와 복호화를 병렬적으로 수행할 수 있고, 다수 블록 중에 일부 블록만 독립적으로 암호화 할 수 있다. 그리고 블록에서 발생하는 오류가 다른 블록에 영향을 주지 않는다.
- 그러나 ECB 방식은 평문의 블록 패턴과 암호문의 블록 패턴이 동일하게 유지되는 문제점을 안고 있다. 이러한 이유로 동일한 키로 여러 브록ㄱ의 평문을 암호화 할 떄에는 ECB방식의 사용을 권고하지 않으며, 보통 난 수 발생과 같은 특수한 경우에 사용한다.

##### Cipher Block Chaining(CBC) 모드

- CBC 모드에서 각각의 평문 블록은 암호화 되기 전에 이전 암호문 블록과 XOR된다. 블록이 암호화 될때 암호화된 블록은 전송되지만 다음 블록을 암호화 할 때 사용하기 위하여 메모리에 저장되어야 한다.
- 그리고 첫번째 블록을 암호화 할 때는 이전의 암호문 블록이 존재하지 않으므로, 초기 벡터(IV)라고 불리는 허구의 블록이 사용 된다. 즉, 송신자와 수신자간 사전에 공유한 IV를 존재하지 않는 C0대신에 사용하는 것이다.
- 초기 벡터(IV): 주어진 평문에 대하여, IV의 생성에 앞서 IV는 반드시 송수신 양자 모두가 알고 있어야 하며, 제 3자로 부터의 예측이 불가능해야 한다. 평문과 연관지어 iV에 대한 예측이 불가능해야한다.

##### Cipher FeedBack(CFB) 모드

- CFB 모드를 이용하면 어떤 블록 암호도 스트림 암호로 바꿀 수 있다. 스트림 암호의 경우 메시지의 길이가 블록의 정수배가 되도록 패딩을 할 필요가 없으며 실시간으로 사용할 수 있다. 따라서 한 문자를 전송하는 경우 문자 중신 스트림 암호를 이용하여 각 문자가 암호화 되는 즉시 전송을 할 수 있다.

##### Output FeedBack(OFB) 모드

- OFB 모드는 평문 블록이 동일하면 암호문이 같아지는 ECB모드의 단점과 오류 전파가 발생하는 CBC모드와 CFB모드를 개선한 동작 모드
- OFB 모드 동작은 암호기의 출력과 평문을 EX-OR하여 암호문을 생성하고 있으므로 오류 전파가 발생하지 않는다. 그러나 암호문 송신자와 수신자 사이에 동기를 조절해야 한다. 즉, 전송중인 암호문의 비트 손실이나 삽입 등에 유의해야하는 방식이다.
- OFB 모드에서도 CBC모드나 CFB모드와 마찬가지로 초기화 벡터(IV)를 사용한다. 초기화 벡터는 암호화할 때 마다 다른 랜덤 비트열을 이용하는 것이 보통이다.
- padding이 필요없다.
- 암호화와 복호화가 같은 구조
- 병렬 처리가 불가능

##### CounTeR(CTR) 모드

- CTR모드는 암호화 시 피드백이 존재하지 않는다. 그렇지만 키 스트림의 의사난수성은 카운터를 사용함으로써 성취될 수 있다.
- CTR 모드는 OFB 모드와 마찬가지로 이전 암호문 블록과 독립적인 키 스트림을 생성하지만 피드백을 사용하지 않는다. 그리고 ECB 모드처럼 CTR 모드는 서로 독립적인 n비트 암호문 블록을 생성한다.
- padding이 필요없다.
- 암호화, 복호화의 사전 준비가 가능하다.
- 암호화와 복호화가 같은 구조
- 비트 단위의 에러가 있는 암호문을 복화화하면, 평문에 대응하는 비트만 에러가 최단.
- 병렬 처리가 가능하다 (암호화, 복호화 양쪽)

### SECTION 04 비대칭키 암호

#### 1. 비대칭키 암호

#### 2. 하이브리드 암호시스템

### SECTION 05 해시함수와 응용

#### 1. 일방향 해시함수

##### (1) 일방향 해시함수의 개요

- 일방향 해시함수의 특징
  - 임의 길이의 메시지로부터 고정 길이의 해시값을 계산한다.
  - 해시값을 고속으로 계산할 수 있다.
  - 일방향성을 갖는다.
  - 메시지가 다르면 해시값도 다르다

##### (2) 해시함수의 분류와 보안 요구사항

###### 해시함수의 보안 요구사항

- 프리이미지 저항성 (역상 저항성)
  - 주어진 임의의 출력값 y에 대해 y=h(x)를 만족하는 입력값 x를 찾는 것이 계산적으로 불가능하다.
- 제2 프리이미지 저항성 (두번째 역상 저항성, 약한 충돌 내성)
  - 주어진 입력값 x에 대해 h(x)=h(x1), x!=x1을 만족하는 다른 입력밧 x1을 찾는 것이 계산적으로 불가능하다.
- 충돌 저항성(충돌 회피성, 강한 충돌 내성)
  - h(x)=h(x1)을 만족하는 임의의 두 입력값 x, x1을 찾는 것이 계산적으로 불가능하다F

##### (3) 키가 없는 해시함수와 키를 사용하는 해시함수

키가 없는 해시함수

- 전용 해시 함수
  - 메시지 다이제스트 (Message Digest) (MD2 -> MD4 -> MD5)
  - SHA (Secure Hash Algorithm)
  - RIPEMD-160
  - Tiger
  - HAVAL
- 블록암호 기반 해시함수
- 모듈 연산에 기반을 둔 해시함수

키를 사용하는 해시함수

##### (4) 암호학적 해시함수의 응용

- 무결성 점검
- 소프트웨어 변경 검출
- 메시지 인증코드
- 전자서명

##### (5) 랜덤 오라클 모델과 해시함수에 대한 공격

###### 랜덤 오라클 모델

###### 일방향 해시함수에 대한 공격

- 무차별 공격
  - '약한 충돌 내성'을 깨고자 하는 공격
- 기타 해시함수 공격의 종류와 특성
  - 일차블록 연쇄공격
  - 중간자 연쇄공격
  - 고정점 연쇄공격
  - 차분 연쇄공격

##### (6) 일방향 해시함수로 해결할 수 없는 문제

- 일방향 해시함수는 '조작과 변경'을 검출할 수는 있지만 거짓행세를 검출하지는 못한다.
- 파일의 무결성을 조사하는 것뿐만 아니라 이 파일이 정말로 앨리스의 것인가를 확인하고 싶은 경우에는 무결성 외에 인증이라는 절차가 필요해진다.
- 인증을 수해하기 위한 기술이 메시지 인증코드와 전자서명이다.

#### 2. 암호학적 해시함수의 예

#### 3. 메시지 인증코드(MAC, message Authentication Code)

- 메시지 인증코드(MAC)란 무결성을 확인하고 메시지에 대한 인증을 하는 기술
- MAC을 사용하면 변경과 거짓행세 검출이 가능하다.
- 메시지 인증코드는 임의 길이의 메시지와 송신자 및 수신자가 공유하는 키라는 2개의 입력을 기초로 해서 고정 비트길이의 출력을 계산하는 함수이다. 이 출력은 MAC값이라 부른다.
- MAC의 한 가지 장점은 블록 암호나 해시 함수에 기반을 두기 때문에 전자 서명보다 훨씬 빠르다는 것.

##### (3) MAC에 대한 공격

- 재전송 공격
- 재전송 공격을 막을 수 있는 방법은 순서번호, 타임스탬프, 비표, 시도/응답 등이 있다.

##### (4) MAC으로 해결할 수 없는 문제

- 제 3자에 대한 증명
- 부인방지(non-repudiation)
- 전자서명을 사용하면 제 3자에 대한 증명과 부인방지가 가능해진다.

#### SECTION 06 전자서명과 PKI

##### 1. 전자서명

##### 2. PKI(공개키 기반 구조)

#### SECTION 07 키, 난수

##### 1. 키

##### 2. 난수

## PART 03 접근통제

### SECTION 08 접근통제 개요

#### 1. 접근통제 개요

### SECTION 09 사용자 인증

#### 1. 인증

#### 2. 사용자 인증 기법

#### 3. 통합 인증 체계(SSO, Single Sign On)

### SECTION 10 접근통제 보안 모델

#### 1. 접근통제의 모델

#### 2. 보안 모델

### SECTION 11 접근통제 보안위협 및 대응책

#### 1. 접근통제 보안위협 및 대응책

PART 04 시스템 보안

### SECTION 12 보안 운영체제

#### 1. 보안 운영체제 개요

#### 2. 보안 운영체제의 주요 제공 기능

#### 3. 보안 운영체제와 보안커널

#### 4. 신뢰 플랫폼 모듈(TPM: Trusted Platform Module)

### SECTION 13 클라이언트 보안

#### 1. 악성 소프트웨어(악성 코드)

#### 2. 인터넷 활용 보안

### SECTION 14 윈도우 서버 보안

#### 1. 윈도우 개요

#### 2. 윈도우 보안

#### 3. 윈도우 서버 보안 설정

#### 4. Windows 네트워크 서비스

### SECTION 15 유닉스/리눅스 서버 보안

#### 1. 유닉스(UNIX)

#### 2. UNIX 기본 사용법

#### 3. UNIX 시스템 관리

#### 4. UNIX 서버 보안

#### 5. 리눅스(Linux)

#### 6. 유닉스/리눅스 서버 취약점 분석·평가

### SECTION 16 서버 보안 관리

#### 1. 서버관리자의 업무

#### 2. 로그 설정과 관리

#### 3. 공개 해킹도구에 대한 이해와 대응

#### 4. 서버보안용 S/W 설치 및 운영

### SECTION 17 각종 시스템 보안위협 및 대응책

#### 1. 버퍼 오버플로우 공격

#### 2. 포맷 스트링 공격

#### 3. 레이스 컨디션 공격

#### 4. 백도어(back door)

#### 5. 시스템 자원 고갈 공격(시스템 서비스 거부 공격)

#### 6. 리버스 엔지니어링

#### 7. 기타 시스템 보안위협 및 대응책

### SECTION 18 최신 보안 주제들

#### 1. 블록체인(BlockChain)

#### 2. 사물인터넷(IoT, Internet of Things)

#### 3. 클라우드 보안

#### 4. 랜섬웨어(Ransomware)

#### 5. APT(Advanced Persistent Threat)

#### 6. 기타 최신 보안주제들

## PART 05 네트워크 보안

### SECTION 19 네트워크 개요

#### 1. 개요

#### 2. OSI 모델과 TCP/IP 프로토콜

### SECTION 20 TCP/IP

#### 1. 물리 계층

#### 2. 데이터링크 계층

#### 3. 네트워크 계층

#### 4. 전송 계층

#### 5. 응용 계층

### SECTION 21 라우팅

#### 1. 라우팅 개요

- 라우팅은 패킷을 전송하기 위해 송신자측에서 목적지까지의 경로를 정하고, 정해진 경로를 따라 패킷을 전달하는 일련의 과정
- 라우터는 라우팅의 기능을 수행하며 네트워크 계층 주소를 참조하여 가능한 한 여러 경로 중에서 최손의 경로를 결정
- 라우팅 알고리즘은 관리자가 직접 라우팅 테이블을 설정하는 정적 라우팅 알고리즘과 네트워크 환경 변화에 능동적으로 대처 가능한 동적 라우팅 알고리즘으로 구분
- AS(자율시스템) 내에 운영되는 라우팅 프로토콜을 IGP라고 하며, AS 간에 라우팅 정보를 교환하기 위한 프로토콜을 EGP라고 함.

#### 2. 유니캐스트 라우팅

##### (1) 라우팅 알고리즘

##### (2) 유니캐스트 라우팅 알고리즘

###### RIP (Routing Information Protocol)

###### RIP2

###### IGRP(interior Gateway Routing Protocol)

###### EIGRP(Enhanced Interior Gateway Routing Protocol)

###### OSPF(Open Shortest Path First)

- 개방 최단 경로 우선(OSPF)는 RIP과 같은 인트라 도메인 라우팅 프로토콜이다. 하지만 OSPF는 링크-상태 라우팅 프로토콜을 기반으로 한다. OSPF는 개방형 프로토콜로 사양이 공개되어 있다.
- 네트워크에 변화가 생겼을 경우에만 전체 네트워크에 플러딩 과정을 수행함으로써 라우팅 정보를 신속하게 갱신하여 수렴시간과 라우팅 트래픽의 양을 줄였다.
  - 플러딩(flooding): 갱신정보를 인접 라우터로 전송하고, 인접 라우터는 다시 자신의 인접 라우터로 갱신정보를 즉시 전달하여 갱신정보가 네트워크 전역으로 신속하게 전달되는 과정
- 최적경로 계산을 위해 Dijkstra's 알고리즘이라는 링크 상태 알고리즘을 이용한다.
- OSPF는 보안을 ㅜ이해 인증을 지원하고, 세 가지 IP주소 형태인 클래스 단위, 서브넷 단위, 클래스 비사용 주소지정(CIDR)을 지원한다. 매우 큰 AS에서 OSPF를 사용할 때는 라우터 그룹으로 묶어 계층 토폴로지를 만들 수 있다.

###### 거리 벡터와 링크 상태 라우팅 프로토콜 비교

- 거리벡터 라우팅 프로토콜
  - 인접한 이웃으로부터 망 정보를 수집
  - 비용은 이웃 라우터와의 거리 비용을 더해서 구함
  - 주기적인 라우팅 정보 교환
  - 느린 수렴시간
  - 모든 라우팅 테이블 값을 이웃에게 전달
  - 브로드캐스트 방식으로 이웃에게 라우팅 광고
- 링크 상태 라우팅 프로토콜
  - 모든 라우터로부터 망 정보를 수집
  - 최단거리 알고리즘으로 모든 라우터에 대한 비용을 직접 계산
  - 링크 상태 변화 시만 라우팅 정보 교환
  - 빠른 수렴시간
  - 자신에게 직접 연결된 망 정보만 전달
  - 멀티 캐스트 방식으로 라우팅 광고

###### OSPF의 계층 구조

- 큰 네트워크를 잘 제어하고 관리할 수 있도록 OSPF에서는 큰 AS가 계층 구조를 가질 수 있다. 이 계층 구조에서는 연결된 라우터와 네트워크를 영역(Area)으로 묶고, 영역은 논리적 백본(backbone)을 사용하여 연결된다.
- 이런 영역은 큰 AS 내에 있는 작은 AS와 비슷하게 행동한다. 따라서 기관에서 큰 네트워크 트래픽을 관리하기 위해 AS를 관리하는 것처럼 영역 내에서 지역적인 제어가 가능하다.
- 라우터의 브로드 캐스팅은 영역 내로 제한되어 있어 영역 외부로 라우팅 정보 패킷이 전달되지 않는다. 영역 간의 정보전달은 오직 영역 경계 라우터(Area Border Router)를 통해서만 수행된다.

###### BGP4(Border Gateway Protocol version 4)

- 경계 게이트웨이 프로토콜 버전4(BGP4)는 현재 인터넷에서 사용하고 있는 유일한 인터 도메인 라우팅 프로토콜이다.
- BGP4는 경로 벡터 알고리즘(Path Vector Algorithm)을 기반으로 하고 있지만, 인터넷에서 네트워크의 접근성에 대한 정보를 제공하기에 알맞다.
- RIP와 같이 거리벡터에 기초한 알고리즘이지만 패스 벡터 알고리즘에서는 홉수 대신 AS 번호를 매트릭으로 사용한다.

#### 3. 라우터 보안

### SECTION 22 네트워크 장비의 이해

#### 1. 네트워크 장비의 이해

- 랜카드
- 허브(Hub)
  - 물리 계층에서만 동작하는 장치
- 브리지(Bridge)
  - 브리지는 리피터와 달리 패킷 프레임에 대한 인지능력이 있고 OSI의 데이터링크 계층인 MAC(Media Access Control)에서 동작하며, 둘 또는 그 이상의 네트워크를 상호 연결하는데 사용한다.
- 스위치 (Switch)
  - 스위치는 리피터의 기능과 브리지의 기능을 결합한다. 스위치는 리피터처럼 정기적 신호를 증폭하며, 브리지의 내장 회로와 지능을 가진다.
  - 종류 (OSI ckawhahepfdp rlchgks qnsfb)
    - L2 스위치
    - L3 스위치
    - L4 스위치
    - L7 스위치
  - L4 스위치와 L7 스위치의 차이점
    - L4: TCP/UDP 포트 정보를 분석해 해당 패킷이 현재 사용하는 서비스 종류(HTTP, FTP, 텔넷, SMTP, POP3, SSL 등) 별로 패킷을 처리한다.
    - L7: 트래픽의 내용(e-mail의 문자열, HTTP URL, FTP 파일 및 제목 등) 패턴 등을 분석해 패킷을 처리한다
  - 종류 (스위칭 방법에 따른 분류)
    - Store-and-Forward 방식
    - Cut-Through 방식
    - Fragment-Free 방식
  - 라우터 (Router)
    - 3계층 장비로, 물리, 데이터링크, 네트워크 계층에서 동작한다
  - 게이트웨이 (Gateway)
    - OSI 참조모델의 모든 계층을 포함하여 동작하는 네트워크 장비로서, 두 개의 완전히 다른 네트워크 사이의 데이터 형식을 변환하는 기능을 수행

#### 2. VLAN의 구성 및 관리

- 가상 근거리 네트워크 (VLAN, Virtual Local Area Network)를 물리적인 선이 아닌 소프트웨어에 의해 구성한 근거리 네트워크
- 스위치에서 지원하는 기능

### SECTION 23 무선통신 보안

#### 1. 무선통신

##### (1) 무선 네트워크 유형과 무선랜

###### 무선 네트워크 유형

- WPAN: 단거리 Ad Hoc 방식 또는 Peer to Peer 방식
- WLAN: 우선랜의 확장 개념 또는 유선 랜의 설치가 어려운 지역으로의 네트워크 제공
- WMAN: 대도시와 같은 넓은 지역을 대상으로 높은 전송속도를 제공

###### 무선 네트워크 보안 위협의 주요 요소

- 채널(Channel): 무선 네트워크는 일반적으로 브로드캐스팅 통신을 하게 되는데, 이 경우 유선 네트워크보다 도청이나 재밍에 훨씬 취약하다.
- 이동성(Mobility): 실제로 사용하는 무선 장치는 유선 장치보다 휴대가 간편하고 이동이 수월하다. 이런 이동성 때문에 여러 가지 위협이 생긴다.
- 자원(Resource): 스마트폰이나 태블릿 같은 일부 무선 장치는 정교한 운영체제를 가지고 있는데, 메모리와 프로세싱 자원이 제한적이다. 그래서 서비스 거부 공격이나 악성 소프트웨어 위협에 대처하기가 쉽지 않다.
- 접근성(Accessibility): 센서나 로봇 같은 일 부 무선 장치는 직접 관리가 어려운 원격지에 있거나 혹독한 환경에 있다. 이 경우 물리적 공격에 매우 취약해질 수 있다.

###### 무선랜의 특징

- 감쇠
- 간섭
- 다중경로 전달
- 오류

###### 무선랜 접근 제어

##### (2) 무선 표준

###### 무선랜 기술 표준

- IEEE 802.11b
- IEEE 802.11a
- IEEE 802.11g
- IEEE 802.11i
- IEEE 802.11h

##### (3) 무선랜 주요 구성요소

- 무선 AP (Access Point)
- 무선 브리지

##### (4) 다양한 무선통신 기술

###### 블루투스 (Bluetooth)

- 구조
  - 피코넷(piconet)
  - 스캐터넷(scatternet)
- 보안 취약점
  - 블루프린팅(blueprinting): 블루투스 공격 장치의 검색 활동을 의미
  - 블루스나핑(bluesnarㄹing): 블루투스의 취약점을 이용하여 장비의 임의 파일에 접근하는 공격
  - 블루버깅(bluebugging): 블루투스 장비 간의 취약한 연결 관리를 악용하는 공격
  - 블루재킹(bluejacking): 블루투스를 이용해 스팸처럼 명함을 익명으로 퍼트리는 것

#### 2. 무선랜 보안

##### (1) 무선랜 보안 취약점 분석

###### 무선랜의 물리적 취약점

###### 무선랜의 기술적 취약점

- 도청
- 서비스 거부(DoS)
- 불법 AP (Rogue AP)
- 무선 암호화 방식
  - WEP(Wired Equivalent Privacy)
  - WPA/WPA2
- 비인가 접근
  - SSID 노출
  - MAC 주소 노출

###### 무선랜의 관리적 취약점

- 무선랜 장비 관리 미흡
- 무선랜 사용자의 보안의식 결여
- 전파관리 미흡

##### (2) 무선랜 인증 기술

###### SSID 설정과 폐쇄시스템 운영

###### MAC 주소 인증

###### WEP 인증 메커니즘

###### EAP 인증 메커니즘

##### (3) 무선랜 암호화 기술

###### WEP(Wired Equivalent Privacy)

- 무선랜용 기본 암호화 방식인 WEP은 전송되는 무선 LAN에 연결된 무선 AP와 무선 단말기 간에 주고받는 무선 전송데이터를 2개의 장비가 약속한 공유 비밀키와 임의로 선택되는 IV값을 조합한 64비트 혹은 128비트의 키를 이용해 전송데이터를 암호화함으로써 보안을 강화하는 방식
- WEP는 데이터 암호화뿐만 아니라, 공유키를 이용한 사용자 인증 기능도 제공한다. WEP는 서로 같은 공유키를 갖는 사람을 정상 사용자로 인증하는 방식을 채택하고 있다.

###### TKIP(Temporal Key Integrity Protocol)

- TKIP의 목적은 WEP의 강도를 향상시키거나 하드웨어 교체 없이 WEP를 완전히 대체하는 것이었다.

###### CCMP(Counter mode with CBC-MAC Protocol)

##### (4) 무선랜 인증 및 암호화 복합 기술

###### WPA와 WPA2

- WPA
  - WI-FI에서 정의한 무선랜 보안 규격으로 802.11i 보안 규격의 일부 기능을 수용하여 만든 표준 규격이다. 현재 사용되고 있는 하드웨어의 변경 없이 소프트웨어의 업그레이드를 통해 지원 가능하다.

###### WPA-PSK(Wi-Fi Protected Access Pre-Shared Key)

###### 802.1x/EAP(Extensible Authentication Protocol) 보안

#### 3. WAP(Wireless Application Protocol)

##### (1) WAP(무선 응용 프로토콜) 개요

- 무선 응용 프로토콜(WAP, Wireless Application Protocol)은 WAP 포럼에서 개발한 통합된 표준이다. 웹과 같은 정보 서비스에 접근하기 위해 모바일 폰과 페이저(비퍼), PDA 같은 장비에서 이 표준을 사용한다.
- WAP은 모든 기존 무선 네트워크 기술(예를 들어 GSM, CDMA, TDMA) 및 IP, XML, HTML, HTTP 등의 인터넷 기술과 가능한 한 호환해서 사용할 수 있게 설계하였다. WAP는 보안 기능도 포함하고 있다.
- WAP 규격
  - WWW 프로그래밍 모델에 기반한 프로그래밍 모델
  - XML과 무선 마크업 언어 (WML, Wireless Markup Language)
  - 모바일 무선 단말기에 적합한 소형 브라우저의 규격
  - 경량 통신의 프로토콜 스택
  - 무선 전화 응용(WTA, Wireless Telephony Application)을 위한 프레임워크

##### (2) WTLS(무선 전송 계층 보안)

- WTLS은 모바일 장비(클라이언트)와 WAP 게이트웨이 간의 보안 서비스를 제공한다. WTLS는 TLS 프로토콜에 기반
- 종단-대-종단 보안을 제공하기 위해서 클라이언트와 게이트웨이 사이에서는 WTLS를 사용하고, 게이트웨이와 목적지 서버 사이에서는 TLS를 사용한다. WAP 시스템은 WAP 게이트웨이 내부에서 WTLS와 TLS 사이의 변환을 담당

##### (3) WAP(종단-대-종단 보안)

#### 4. 디바이스 인증기술(기기 인증)

#### 5. RFID

#### 6. 모바일 보안

##### (2) BYOD 보안 기술

- MDM(Mobile Device Management)
- 컨테이너화(Containerization)
- 모바일 가상화(Hypervisors)
- MAM(Mobile Application Management)
- NAC(Network Access Control)

### SECTION 24 네트워크 관리

#### 1. 네트워크 관리

- 네트워크 5대 관리 기능
  - 계정 관리
  - 구성 관리
  - 성능 관리
  - 장애 관리
  - 보안 관리

#### 2. SNMP

- SNMP(Simple Network Manangement Protocol)는 관리자와 에이전트의 개념을 사용한다. 즉, 보통 호스트인 관리자는 보통 라우터나 서버인 에이전트의 집단을 제어하고 감시한다.

##### 관리 구성요소

- SNMP는 관리 작업을 수행하기 위해 다른 두 가지 프로토콜, 즉 SMI(Structure of Management Information)와 MIB(Management Information Base)를 사용한다. 달리 말하면 인터넷에서의 관리는 SMI와 MIB 그리고 SNMP의 협동 작업이다.

#### 3. 원격 접속 서비스

##### 원격 접속 프로토콜

- TELNET
- Rlogin
- SSH(Secure Shell)

### SECTION 25 네트워크 기반 프로그램 활용

#### 1. 네트워크기반 프로그램 활용

##### 연결테스트 (ping)

- ping 명령은 인터넷으로 접속하려는 원격 호스트가 정상적으로 운영되고 있는지를 확인하는 진단 목적으로 사용한다.
- ping 명령은 ICMP를 이용하는 유틸리티이다.
- ping 명령으로 접속대상 시스템의 접근성을 진단하는 것 외에도 네트워크 속도를 측정할 수 있다. 그리고 도메인 명을 이용하여 접속대상 시스템의 IP 주소를 알아낼 때도 효과적이다.

##### 경로추적(traceroute)

##### 네트워크 인터페이스 진단(netstat)

- netstat 명령은 UNIX 시스템의 TCP/IP 프로토콜 진단 시 다양한 용도로 사용한다. 네트워크 인터페이스(LAN 카드)에 대한 성능 정보, 시스템의 라우팅 정보, 소켓 사용 정보 등 지정 옵션에 따라서 네트워크 정보를 제공한다.

##### 라우팅 설정(route)

- route 명령을 사용하여 라우팅 테이블에 라우팅 경로를 추가하거나 삭제한다.

##### 네트워크 패킷/로그 분석(tcpdump)

- tcpdump는 네트워크 인터페이스를 거치는 패킷의 내용을 출력해주는 프로그램

##### 네트워크 인터페이스 설정(ifconfig)

##### 윈도우 ipconfig 유틸리티

### SECTION 26 네트워크 기반 공격의 이해

#### 1. 네트워크 기반 위협

#### 2. 네트워크 기반 보안 위협 및 대응책

##### (1) 서비스 거부 공격(DOS; Denial of Service)

- TCP SYN Flooding Attack

  - TCP 연결 설정 과정 중에 3-Way Handshaking 과정에서 Half-Open 연결 시도가 가능하다는 취약점을 이용한 공격으로 공격대상 시스템은 외부로부터 접속 요청을 더 이상 받아들일 수가 없게 되어 정상적인 서비스를 제공할 수 없게 된다.
  - 즉, 공격자가 다수의 syn 신호를 공격 대상자에게 전송하면 공격 대상자는 syn/ack 신호를 공격자에게 전달하게 되는데 이 때 공격자가 ack 신호를 반송하지 않으면 공격대상자의 시스템은 일정 시간동안 신호를 기다리게 된다.
  - 이 공격은 윈도우 시스템뿐만 아니라 인터넷에 연결되어 TCP 기반의 서비스를 제공하는 모든 시스템에 피해를 줄 수 있다.

- SMURF Attack
- Flooding Attack
  - ICMP Flood
  - UDP Flood
- Land Attack
- Ping of Death
- Teardrop Attack
- Inconsistent Fragmentation 공격
  - Bonk
    - 패킷을 프래그먼트하여 전송할 때, 패킷을 조작하여 결과적으로 공격대상자의 시스템 부하를 증가시키는 공격
    - 처음 패킷을 1번으로 보낸 후, 다음 패킷을 보낼 때 순서번호를 모두 1번으로 조작하여 전송하는 DoS 공격
  - Boink
    - Bonk를 수정한 DoS 공격도구로, 처음 패킷을 1번으로 보낸 후 다음 패킷을 100번, 다음 패킷을 200번 등 정상적으로 보내다가 20번째 패킷을 2002, 201번째 패킷을 100, 22번째 패킷을 다시 2002 등으로 중간에 패킷 시퀀스 번호를 비정상적으로 상태로 보내는 공격 기술

##### (2) DDoS 공격

###### 공격 대응 절차

- 1단계; 공격의 인지
- 2단계; DDoS 공격 유형 파악
  - 패킷 덤프(Packet Dump)를 이용한 유입 트래픽 확보
  - 확보된 트래픽 분석(Analysis)
  - 시나리오 기반(Scenario Drawn)의 공격유형 파악
  - 웹서버 접속 로그(WebServer Access Log)
- 3단계; 공격유형에 따른 차단 정책 정의 및 대응
- 4단계; 공격 대응 후, 사후조치

###### DNS 싱크홀(DNS Sinkhole)

- 악성 봇을 조종하는 조종자를 탐지하고, 감염된 개인용 컴퓨터(PC)와 조종자 간의 접속을 차단해 2차 피해를 예방하기 위한 시스템
- DDoS 공격 차단 방법의 하나로 감염된 PC에서 특정 주소로 연결을 원할 때 실제 해당 주소로 데이터가 전송되지 않고 싱크홀 네트워크가 대신 응답하여 패킷이 외부로 전달되지 않도록 처리한다. 이방법을 DNS에 적용한 것이 DNS 싱크홀.
- 한국인터넷진흥원에서 국내 주요 ISP업체 및 가입기관과의 협력을 통해 DNS 싱크홀을 운영하고 있다.

###### DDoS 공격의 사례

- 트리누 (Trinoo) 공격
- TFN (Tribed Flood Network) 공격
- Stacheldraht 공격
- TFN2K 공격

###### 최신 DDoS 공격유형 설명

- UDP/ICMP Traffic Flooding 공격
- TCP Traffic Flooding 공격
- IP Flooding 공격
- HTTP Traffic Flooding 공격
- HTTP Header/Option Spoofing Flooding 공격

###### 분산 반사 서비스 거부 공격(DRDoS; Distributed Reflection Denial of Service)

##### (3) 네트워크 스캐닝

###### 사이버 공격을 위한 준비활동

- 사이버 공격을 위한 정보 수집은 풋프린팅, 스캐닝, 목록화의 3단계 과정을 거친다.
- 풋프린팅은 신문, 게시판 혹은 네트워크 검색, 포털 검색 등의 방법을 통해 공격 대상의 IP블록, DNS/Mail 서버 등의 정보를 수집하는 초기 과정을 말한다.
- 스캐닝은 핑(Ping), 포트 스캔(Port Scan), 운영체제 확인 드으이 방법으로 시스템 종류, IP 주소, 서비스 등을 알아내어 보다 세부적인 정보를 수집하는 과정을 말한다.
- 목록화는 앞선 풋프린팅, 스캐닝 방법을 통해서 수집된 정보를 토대로 라우팅 테이블, SNMP 정보 등 좀더 실용적인 정보를 수집하여 시스템 취약점 분석 및 공격방법 결정을 위한 지표를 작성하는 과정을 말한다.

##### (4) 스니핑(Sniffing)

- 네트워크 트래픽을 도청(eavesdropping)하는 과정
- TCP/IP 프로토콜을 이용한 통신에서는 통신매체를 통과하는 패킷이 암호화가 되지 않은 상태이므로 이 패킷을 도청하여 메시지 내용을 볼 수 있다.

##### 스니핑의 종류

###### 허브 환경에서의 스니핑

###### 스위치 환경에서의 스니핑

- 스위치 재밍(Switch Jamming, MAC Address Flooding, MACOF(MAC OverFlow) 공격)
  - 스위치의 MAC Address Table 버퍼를 오버플로우시켜서 스위치가 허브처럼 동작하게 강제적으로 만드는 기법
  - 스위치는 Fail Open 정책, 즉 실패 시에 모두 허용해주는 정책을 따르는 장비이므로 문제가 발생하면 Hub처럼 연결된 모든 노드에게 패킷을 전송한다.
  - MAC Address Table을 채우기 위해 MAC 주소를 계속 변경하면서 ARP Reply 패킷을 지속적으로 전송하는 방식으로 공격한다.
- ARP 스푸핑(Spoofing)
  - 공격자가 특정 호스트의 MAC 주소를 자신의 MAC 주소로 위조한 ARP Reply 패킷을 만들어 희생자에게 지속적으로 전송하면 희생자의 ARP Cache에 특정 호스트의 MAC 정보가 공격자의 MAC정보로 변경된다. 이를 통해 희상자에게서 특정 호스트로 나가는 패킷을 공격자가 스니핑하는 기법이다.
- ARP 리다이렉트(Redirect)
  - 공격자가 자신이 라우터인 것처럼 MAC 주소를 위조하여 ARP Reply 패킷을 해당 네트워크에 broadcast 한다. 이를 통해 해당 로컬 네트워크의 모든 호스트와 라우터 사이의 트래픽을 스니핑하고, IP Forward 기능을 통해 사용자들이 눈치채지 못하도록 하는 기법
- ICMP 리다이렉트 (Redirect)
  - 3계층에서 스니핑 시스템을 네트워크에 존재하는 또 다른 라우터라고 알림으로써 패킷의 흐름을 바꾸는 공격
- 스위치의 SPAN/Port Mirroring 기능 이용

  - 스위치의 SPAN/Port Mirroring 기능은 스위치를 통과하는 모든 트래픽을 볼 수 있는 기능으로 특정 포트에 분석 장비를 접속하고 다른 포트의 트래픽을 분석 장비로 자동 복사해주는 기술
  - 관리적인 목적으로 사용하지만 공격자가 물리적으로 해당 포트에 접근할 수 있다면 손쉽게 패킷을 스니핑 할 수 있다.

###### 스니핑 탐지

- 스니퍼에 대한 탐지는 기본적으로 스니퍼가 Promiscuous 모드에서 작동한다는 데서 시작한다. promiscuous 모드란 유입 패킷에 대한 IP주소와 MAC 주소 필터링을 하지 않는다는 의미다.
- ping을 이용하는 방법: 대부분 스니퍼는 일반 TCP/IP에서 동작하기 때문에 Request를 받으면 Response를 전달한다. 이를 이용한 방법은 의심이 드는 호스트에 ping을 보낼때, 네트워크에 존재하지 않는 MAC 주소를 위장하여 보내는 것이다. 만약 ICMP Echo Reply를 받으면 해다 호스트가 스니핑을 하고 있는 것이다. 왜냐하면 존재하지 않는 MAC 주소를 사용했으므로 스니핑을 하지 않는 호스트는 누구도 ping Request를 볼 수 없는 것이 정상이기 때문이다.
- ARP를 이용하는 방법: ping과 유사한 방법으로 위조된 ARP Reqeust를 보냈을 때 ARP Response가 오면 Promiscuous 모드로 설정되어 있는 것이다.
- DNS 방법: 일반적으로 스니핑 프로그램은 사용자의 편의를 위해 스니핑한 시스템의 IP주소로 Inverse-DNS lookup을 수행한다. 이는 원격과 로컬에서 모두 사용할 수 있는 방법으로, 원격에서 테스트 대상 네트워크로 Ping sweep을 보내고, 들어오는 Inverse-DNS lookup을 감시하여 스니퍼를 탐지할 수 있다.
- 유인(Decoy) 방법: 스니핑 공격을 하는 공격자의 주요 목적은 계정과 패스워드의 획득에 있다. 보안 관리자는 이 점을 이용해 가짜 계정과 패스워드를 네트워크에 계속 뿌린다. 공격자는 이 계정과 패스워드를 이용해 접속을 시도하고, 이 접속을 시도하는 시스템을 탐지함으로써 스니퍼를 탐지할 수 있다.
- ARP watch: 초기에 MAC 주소와 IP주소의 매칭 값을 저장하고 ARP 트래픽을 모니터링하여 이를 변하게 하는 패킷이 탐지되면 관리자에게 메일로 알려주는 툴이다. 대부분의 공격 기법이 위조된 ARP를 사용하기 때문에 이를 쉽게 탐지할 수 있다.

###### 암호화

- 스니핑에 대한 대응책, 암호화 방법은 이용하는 서비스에 따라 다르다. 인터넷을 사용할 때, 이메일을 사용할 때의 암호화 방법 등 매두 다양하다.
- SSL: 암호화된 웹 서핑을 가능하게 해주며, 40비트와 128비트 두 가지 암호화 키 사용
- PGP, PEM, S/MIME: 이메일을 전송할 때 사용하는 암호화
- SSH: 텔넷과 같은 서비스의 암호화
- VPN: 공용 회선을 이용한 사설 암호화명

###### 네트워크 스니퍼(sniffer)

- 패킷 또는 LAN 세그먼트상을 지나는 트래픽을 분석할 수 있는 프로그램 혹은 장비를 가리키는 용어
- 스니퍼는 Promiscuous 모드로 동작하는 네트워크 어댑터를 이용하여 네트워크에 접속해야 하며, 이 어댑터의 드라이버는 데이터를 캡처한다.
- 패킷 스니핑 공격은 트래픽 통계 정보를 수집하는 패킷 분석기(Wireshark 등) 및 스니핑 공격을 위해 특별히 제작된 도구(Dniff 등)를 사용한다.

##### (5) 스푸핑(Spoofing)

- 스푸핑 공격은 공격자가 자신을 공격 대상자에게 노출시키지 않고 제 3의 사용자인 것처럼 MAC 주소, IP주소 등을 속이는 작업
- 스푸핑 공격은 주로 중간자 공격(Man In The Middle) 또는 DoS 공격 등에 사용된다.

###### ARP 스푸핑

> 공격 원리

- ARP는 호스트의 IP 주소를 MAC 주소로 변경하는 프로토콜이다. ARP 스푸핑은 호스트의 주소 매칭 테이블에 위조된 MAC 주소가 설정되도록 하는 공격
- ARP 스푸핑 공격은 사용자 시스템이 ARP Reply 메시지를 수신할 때마다 자신의 ARP Request 메시지 송신 여부와 관계없이 그리고 ARP Reply 메시지의 송신자에 대한 인증과정 없이 자신의 ARP 테이블을 갱신하는 ARP 프로토콜의 취약점을 이용한다
- 공격자는 주기적으로 ARP 스푸핑 공격을 수행하여 ARP 캐시 테이블의 공격 정보를 계속 유지한다. 이와 같이 ARP 캐시 테이블의 내용을 몰래 변경하는 작업을 ARP 캐시 포이즈닝(ARP Cache Poisoning)이라 한다.

> 보안 대책

- 가장 기본적인 대응은 동일 네트워크 내의 시스템들에 대한 ARP 캐시 테이블은 ARP Reply 메시지와 관계없이 관리자가 직접 정적(static)으로 작성함으로써 ARP 스푸핑 공격이 성립하지 않게 만드는 것.

###### IP 스푸핑

> 공격 원리

- 공격자가 자신의 IP주소가 아닌 신뢰관계(trust relationship)를 가진 시스템의 주소로 위장하여 공격대상 서버로부터 정보를 가로채는 방식이다.
- 신뢰관계에 있는 IP로 위장한 후 rlogin 등을 이용하여 공격대상 서버에 접속한다. 백도어 등을 설치하여 차후 공격 경로를 확보한다.

> 보안대책

- 외부에서 들어오는 패킷 중에서 출발지 IP 주소에 내부망 IP 주소를 가지고 있는 패킷을 라우터 등에서 패킷 필터링을 사용하여 막아낼 수 있다.
- 신뢰(트러스트)관계를 이용한 IP 스푸핑에 가장 좋은 대책은 트러스트를 사용하지 않는 것이다. 그러나 부득이하게 트러스트를 사용할 경우에는 트러스트된 시스템의 MAC 주소를 static으로 지정해야한다.
- IP 스푸핑 공격은 기본적으로 IP 프로토콜이 출발지 IP주소에 대한 인증 작업을 수행하지 않는데서 기인한다. 따라서 IP 주소 인증 기능이 보안된 프로토콜(IPSec)을 사용하는 것이 근본적인 대응책이 된다.
- TCP와 같은 상위 프로토콜에서 비정상적인 IP주소 시스템 간 통신을 방지하는 기능을 추가하는 것도 IP 스푸핑 공격의 중요한 대응책이 된다.

###### DNS 스푸핑

> 공격 원리

- 실제 DNS 서버보다 빨리 대상에게 DNS Response 패킷을 보내, 공격 대상이 잘못된 IP주소로 웹접속을 하도록 유도하는 공격
- DNS 스푸핑 공격이 ARP 스푸핑 공격보다 공격 응용 범위가 넓다. 즉, DNS 스푸핑 공격을 통해 공격 대상자를 어떤 사이트로 몰래 유인하여 파밍, 중간자 공격 등 2차 공격을 가할 수 있다.
- DNS 패킷은 UDP 패킷이므로 세션이 존재하지 않는다. 또한 먼저 도착한 패킷을 신뢰하며, 다음에 도착한 정보는 버린다. DNS 스푸핑은 DNS 서비스의 이런 특징을 이용한다.

> 보안대책

- 도메인 이름을 브라우저에 입력했을 때 무조건 DNS Query를 생성하는 것은 아니다. 사이트에 접속하면 MAC처럼 캐시에 도메인 이름에 대한 IP주소가 저장되었다가 다시 접속했을 때 DNS Query를 보내지 않고 캐시에서 읽어드린다.
- 그런 다음 hosts 파일을 통해 도메인 이름에 대한 IP 주소를 해석한다. 따라서 hosts 파일에 중요한 사이트의 IP 주소를 확인해 적어두면, 적어도 이 파일에 있는 사이트에 대해서는 DNS 스푸핑 공격을 당하지 않는다.

###### 이메일 스푸핑

- 공격자의 신분을 위장하여 이메일을 발송하는 공격으로 사회공학 기벙에 속한다.
- 악성코드를 메일에 첨부하여 발송하는 방식(MassMailer)으로 대표적인 사례로는 베이글 윔(Bagle Worm)이 있다.
- 대응책은 L7의 콘텍스트(context)필터링, 안티바이러스, 전자서명, 메일 발송 시 인증하는 방법이 있다.

##### (6) 세션 하이재킹(Session Hijacking)

- 공격자가 인증 작업 등이 완료되어 정상적으로 통신이 이루어지고 있는 다른 사용자(공격 대상자)의 세션을 가로채서 별도의 인증 작업 없이 가로챈 세션으로 통신을 계속하는 행위
- 세션 하이재킹은 인증 작업이 완료된 세션을 공격하므로 패스워드 스니핑과 재연공격(Replay Attack)등을 방지하기 위해 도입된 일회용 패스워드(One Time Password), 챌린지/응답(Challenge/Response) 기법 등을 사용하는 사용자 인증을 무력화시키는 매우 위험한 공격

###### TCP 연결 하이재킹(TCP Connection Hijacking)

- 다른 사용자의 TCP 연결을 가로채는 TCP 연결 하이재킹은 순서번호 추론(Sequence Number Prediction) 기반의 하이재킹과 스니핑 기반의 하이재킹으로 구분된다.
- TCP 세션 하이재킹이 스니핑과 다른 점은 명령의 실행이 가능하다는 것이다. 클라이언트와 똑같은 인터페이스가 제공된다. 따라서 TCP 세션 하이재킹을 적극적(active)공격 이라고 한다.

###### HTTP 세션 하이재킹(Session ID 하이재킹)

- 공격자가 특정 사용자의 유효기간이 남아있는 세션 식별자(Session ID)를 가로챌 수 있다면 별도의 인증 없이 해당 사용자의 권한으로 서버를 접근하는 세션 하이재킹 공격이 가능해진다.
- 대응책: 네트워크 트래픽 스니핑 방지 대책인 데이터 트래픽 암호화와 스니핑 도구 탐지 및 제거, 세션 식별자 추측과 전사 공격 대책으로 추측하기 어렵고 긴 세션 식별자를 사용한다.

### SECTION 27 IDS/IPS

#### 1. 침입탐지시스템(IDS)

#### 2. 침입방지시스템(IPS)

### SECTION 28 침입차단시스템(Firewall)

#### 1. 침입차단 시스템(방화벽, Firewall) 개요

#### 2. 침입차단시스템의 유형 분류

#### 3. 침입차단 시스템의 종류(구축 형태)

#### 4. iptables

### SECTION 29 VPN

#### 1. VPN(Virtual Private Network)

#### 2. IPSec(IP Security Protocol)

### SECTION 30 최신 네트워크 보안기술

#### 1. 최신 네트워크 보안기술

##### (1) 역추적 시스템

##### (2) ESM(Enterprise Security Management)

##### (3) NAC(Network Access Control)

##### (4) SIEM(Security Information Event Management)

##### (5) 패치관리시스템(PMS, Patch Management System)

## PART 06 애플리케이션 보안

### SECTION 31 FTP 보안

#### 1. 파일 관련 프로토콜

##### (1) FTP(File Transfer Protocol)

- 하나의 호스트에서 다른 호스트로 파일을 복사하기 위해 TCP/IP에 의해 제공되는 표준 기능
- FTP는 호스트 간에 두 개의 연결을 설정한다는 점에서 다른 클라이언트 서버 응용들과 다르다. 하나의 연결은 데이터 전송을 위해 사용되고, 또 다른 하나는 명령과 응답 등의 제어 장보를 위하여 사용한다.
- FTP는 두 개의 잘 알려진(well-known) TCP 포트를 사용한다. 포트 21번은 제어 연결을 위해 사용되고, 포트 20번은 데이터 연결을 위해 사용된다.

##### FTP 연결

- FTP 능동(Active) Mode (일반 연결)
  - 일반적으로 능동모드가 FTP 클라이언트의 기본값으로 설정된다. 클라이언트에서 서버측 21번 포트로 접속하여 제어채널을 생성하고 데이터는 서버에서 클라이언트로 접속하여 데이터를 보내는 방식이다.
  - 만약 클라이언트 PC에 방화벽이 설치되어 외부에서의 접속을 허용하지 않는다면 FTP 접속은 되지만 (제어채널은 연결되지만) 이후 데이터 채널 연결이 불가능하여 파일을 받을 수 없는 문제가 발생할 수 있다.
- FTP 수동(Passive) 모드 (수동 연결)
  - 클라이언트에서 서버측 21번 포트로 접속하여 제어채널을 생성하고 데이터 채널도 클라이언트에서 서버로 접속하여 데이터를 보내는 방식이다.

##### (2) 익명 FTP

- 많은 FTP 서버는 익명 FTP를 지원하여 서버에 계정이 없는 사용자가 서버 자원에 한정된 접근을 할 수 있는 권한을 제공한다. 익명 FTP는 기술지원이나 고객지원, 파일 배포 등을 하고자 하는 단체에서 사용하는 경우가 많다.
- 익명 FTP에 액세스하기 위해 사용자는 계정이나 패스워드가 필요하지 않다. 대신 사용자 이름으로 'anonymous'라는 단어를, 패스워드로 '이메일 주소'를 사용할 수 있다.
- 이 때 입력하는 비밀번호는 실제 비밀번호가 아니며 누가 접속하고 있는지 서버가 로그에 기록하는 데 쓰일 뿐이다.

##### (3) TFTP(Trivial File Transfer Protocol)

- FTP보다 더 간단한 TFTP
- UDP(69번 포트)를 사용한다.

##### (4) NFS와 삼바

###### NFS (Network File System)

- TCP/IP 프로토콜을 사용하여 네트워크상에서 파일시스템을 운영할 수 있도록 해주는 프로토콜
- 데이터의 보안과 무결성을 보장하면서 인증된 네트워크 사용자가 공유된 네트워크 파일을 마치 자신의 저장 장치에 있는 것처럼 사용할 수 있는 방법을 제공

###### 삼바 (Samba)

- SMB(Server Message Block) 프로토콜을 사용하여 유닉스 계열 시스템과 윈도우 시스템 간에 파일 및 프린터 자원을 공유할 수 있는 기능을 제공

#### 2. FTP 보안 위협 및 대책

##### FTP 보안

- FTP 프로토콜은 보안이 큰 문제가 되기 전에 설계되었다. 비록 FTP가 비밀번호를 요구하지만, 이 비밀번호는 평문으로 되어 있어, 공격자가 가로채어 사용할 수 있다.
- 데이터 전송 연결 또한 보호되지 않은 평문으로 데이터를 전송한다. 보안을 위해서는 FTP 응용 계층과 TCP 계층 사이에 보안 소켓 계층을 추가할 수 있다. 이러한 경우의 FTP를 SSL-FTP라 부른다.

##### SFTP(Secure File Transfer Protocol)

- 보안 채널을 사용해 자료를 전송하는 다른 방법은 SFTP(보안 파일 전송 프로토콜)라 불리는 다른 독립된 프로토콜을 사용하는 것이다. 이는 사실 SSH 프로토콜의 일부분인 SFTP라 불리는 Unix 프로그램이다.
- SSH에서 SSH 클라이언트와 SSH 서버 사이에 보안 연결이 성립되었을 때, 이 연결(다중 방식)을 사용 할 수 있는 응용 프로그램 중 하나가 SFTP다.
- 다시 말하면, SFTP는 SSH 응용 요소의 일부이다. SFTP 프로그램은 FTP처럼 동작할 수 있는 쌍방향 프로그램이며 SSH 클라이언트와 SSH 서버 사이에서 파일을 전송하기 위해 인터페이스 명령 세트를 사용한다.

##### TFTP 보안

- TFTP에 대한 중요한 점 하나는 보안에 대한 고려가 없다는 점이다. 심지어 사용자 확인이나 비밀번호도 없다. 그러므로 오늘날 해커로부터 파일을 보호하기 위한 예방조치가 취해져야 한다.
- 이를 수행하는 방법 중 하나는 TFTP가 중요하지 않은 파일에만 접근할 수 있도록 제한하는 것이다. 최소한의 보안성을 얻기 위한 한 가지 방법은 TFTP 서버 근처에 있는 라우터에 보안을 구현하여, 특정한 호스트만 서버에 접근 할 수 있도록 하는 것이다.
- TFTP가 필요한 경우 secure mode로 운영한다. secure mode는 chroot 기능을 이용하는 것으로 지정한 디렉터리를 최상위 디렉터리로 지정하여 지정한 디렉터리의 상위 디렉터리로 접근하지 못하도록 제한하는 방식이다.

##### Bounce attack

- 제어 채널과 데이터 채널을 다르게 사용하고 데이터 채널을 생성할 때 목적지를 확인하지 않는 FTP 설계의 구조적 취약점을 이용하는 공격
- 능동 모드에서 FTP 서버의 파일을 요청하면 클라이언트에서 파일을 받을 IP와 포트를 지정해서 전달해준다. (PORT 명령) 이때 IP와 포트를 요청한 클라이언트가 아닌 임의의 주소로 지정할 수 있는데 이런한 FTP 설계의 취약점을 이용하는 방식이다.
- 주로 익명 FTP 서버를 이용, PORT 명령을 조작하여 공격대상 네트워크를 스캔하고 FTP 서버로 하여금 공격자가 원하는 곳으로 데이터를 전송하게 한다.

##### Anonymous FTP 취약점

- 보안 절차를 거치지 않는 익명의 사용자에게 FTP 서버로의 접근을 허용한다.
- 익명 사용자가 서버에 쓰기 권한이 있을 때 악성 코드 생성이 가능하다.
- Anonymous FTP 보안 대책
  - Anonymous FTP는 보안상 심각한 취약점을 가지고 있기 때문에 반드시 사용해야하는 경우가 아니라면 서비스를 제거한다.

##### FTP 접근 제어 설정

- ftpusers 파일을 통한 접근 제어
  - FTP 서비스는 기본적으로 평문 송수신을 하기 때문에 아이디 및 패스워드가 노출되기 쉽다. 따라서 중요 계정(root 등)에 대해서는 FTP 직접 접속을 제한해야한다.
  - ftpusers 파일은 접속을 제한할 계정정보를 담고 있는 설정 파일이다. 따라서 root 등 중요 계정을 ftpusers 파일에 명시하여 접속을 제한한다.
- TCPWrapper를 통한 접근 제어
  - TCPWrapper의 설정파일인 hosts.allow, hosts.deny 파일을 이용하여 IP 기반의 접근제어를 수행
  - FTP 데몬 프로그램별로 TCPWrapper 연동 설정이 필요

#### 3. FTP 서비스 운영

### SECTION 32 이메일 보안

#### 1. 이메일 관련 프로토콜

#### 2. 이메일 콘텐츠 보안을 위한 보안 기술

#### 3. 스팸 메일 보안 대응 기술

#### 4. sendmail

### SECTION 33 웹 보안(Web Security)

#### 1. 웹 보안 개요

#### 2. 월드와이드웹과 HTTP

#### 3. SSL/TLS

#### 4. 웹서버 보안

##### (1) IIS 보안설정

##### (2) Apache 보안설정

#### 5. 웹(Web) 보안위협 및 대응책

##### (2) 주요 웹 보안위협 및 대응책

- SQL Injection
- 사이트 간 스크립팅 (CSS[XSS] Cross Site Scripting)
- 사이트 간 요청 위조 (CSRF[XSRF], Cross Site Request Forgery)
- 직접 객체 참조
- 보안 설정 취약점

##### (3) 웹의 취약점 보완

- 특수문자 필터링
- 서버측 통제 적용
- 지속적인 세션 관리
- 웹 방화벽(WAF, Web Application Firewall)

#### 6. 소프트웨어 개발 보안

### SECTION 34 DHCP와 DNS 보안

#### 1. 호스트 설정과 호스트 설정 프로토콜

#### 2. DNS(Domain Name System)

##### (4) DNS 룩업(Loopup) 유틸리티

- nslookup 유틸리티
- dis(Domain Infomation Groper) 유틸리티
- host 유틸리티
- whois 명령어

#### 3. DNS 보안

##### (2) DNS 스푸핑(DNS Spoofing)

- 스니핑 (Sniffing) 기반의 DNS Spoofing 공격
- DNS Cache Poisoning 공격

#### 4. DNS 서버 보안 설정

### SECTION 35 데이터베이스 보안

#### 1. 데이터베이스 기본 개념

#### 2. 데이터베이스 보안 요구사항

#### 3. 데이터베이스 보안 통제

#### 4. DBMS 보안 관리

### SECTION 36 전자상거래 보안

#### 1. 전자상거래 개요

#### 2. 전자상거래의 정보 보호

#### 3. SET(Secure Electronic Transaction)

- 신용카드 회사인 비자와 마스터카드가 합동하여 개발하였으며, 인터넷상에서 신용카드를 이용한 상품구매시 안전한 대금결제과정 처리를 위해 RSA 암호화와 인증기술을 이용한다.
- 네트워크상에서 민감한 개인금융정보를 안전하게 전송하기 위해 개발된 프로토콜인데 현재까지 가장 안전한 전자결제방안으로 평가되고 있다.
- SET은 가장 중요한 두 가지 기술을 사용한다. 바로 전자봉투와 이중 서명이다.
- SET 참여 주체
  - 카드 소지자(Cardholder)
  - 발행사(Issuer)
  - 가맹정(Merchant)
  - 지불 은행(매입사, Acquirer)
  - 지불 게이트웨이(Payment Gateway)
  - 인증 기관(CA, Certification Authority)
- 장단점
  - 장점
    - 전자거래의 사기를 방지
    - 기존의 신용카드 기반을 그대로 활용
    - 신용카드 번호가 상점에게 알려지지 않고 지불 게이트웨이에게 알려짐
    - SSL의 단점 (상인에게 지불정보 노출)을 해결
    - 상점에 의한 사기 가능성 감소
    - 서명 기능이 있어 부인방지 서비스 제공
  - 단점
    - 암호 프로토콜이 너무 복잡함
    - RSA 동작은 프로토콜의 속도를 크게 저하시킴. 속도가 느림.
    - 카드 소지자에게 전자지갑 소프트웨어를 요구
    - 상점에 소프트웨어를 요구
    - 지불 게이트웨이에 거래를 전자적으로 처리하기 위한 별도의 하드웨어와 소프트웨어를 요구

#### 4. 전자상거래 응용 보안

### SECTION 37 침해사고 대응(디지털 포렌식)

#### 1. 해킹

#### 2. 침해사고 대응과 포렌식

##### (1) 컴퓨터 침해 대응팀

- CERT(Computer Emergency Response Team)

##### (2) 디지털 포렌식(Digital Forensics)

##### (3) 증거(Evidence)

##### (4) 디지털 증거 복구

##### (5) 데이터 복구 기법 피하기(Data Sanitization)

### SECTION 38 각종 애플리케이션 보안위협 및 대응책

#### 1. 각종 애플리케이션 보안위협 및 대응책

- 좀비와 봇(Bot)
- 살라미 공격
- 데이터 디들링(Data Diddling)
- 이블 트윈 공격(Evil Twin Attack)

#### 2. 자바 보안

- 클래스 로더(Class Loader)
- 바이트코드 검사기(Verifier = Interpreter)
- 보안관리자(Security manager)

## PART 07 정보보안 관리 및 법규

### SECTION 39 정보보호 거버넌스와 관리 체계 수립

#### 1. 정보보호 거버넌스

#### 2. IT 보안 관리

#### 3. 정보보호 정책, 절차, 표준, 지침, 기준선

#### 4. 인적 자원 보안

### SECTION 40 정보보호 위험 관리

#### 1. 위험관리

#### 2. 위험분석(Risk Analysis)

### SECTION 41 BCP/DRP

#### 1. BCP/DRP

### SECTION 42 정보보호 인증제도

#### 1. 보안 제품 평가방법 및 기준

#### 2. 정보보호관리체계 인증

#### 3. 정보보호 및 개인정보보호 관리체계(ISMS-P 인증)

#### 4. 기타 인증제도 및 정보보호 활동

### SECTION 43 정보보호 관련 법규 Ⅰ

#### 1. 개인정보보호법(2017.10.19.)

#### 2. 정보통신망 이용촉진 및 정보보호 등에 관한 법률(2019.6.25)

#### 3. 위치정보의 보호 및 이용 등에 관한 법률(2019.6.25)

#### 4. 신용정보의 이용 및 보호에 관한 법률(2018.12.31)

### SECTION 44 정보보호 관련 법규 Ⅱ

#### 1. 정보통신기반 보호법(2018.5.22.)

#### 2. 클라우드컴퓨팅 발전 및 이용자 보호에 관한 법률(2017.7.26.)

#### 3. 전자정부법(2017.10.2### 4.)
